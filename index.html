<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IB Physics HL: Rotational Dynamics</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #dee2e6;
        }
        
        .nav-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 1.1em;
            transition: all 0.3s;
        }
        
        .nav-tab:hover {
            background: #e9ecef;
        }
        
        .nav-tab.active {
            background: white;
            border-bottom: 3px solid #f093fb;
            font-weight: bold;
        }
        
        .content {
            padding: 30px;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .theory-section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #f093fb;
        }
        
        .theory-section h2 {
            color: #f5576c;
            margin-bottom: 15px;
        }
        
        .formula {
            background: white;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            text-align: center;
            border: 1px solid #dee2e6;
        }
        
        .canvas-container {
            background: white;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        canvas {
            border: 1px solid #ccc;
            border-radius: 5px;
            max-width: 100%;
        }
        
        .controls {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .control-group {
            margin: 15px 0;
        }
        
        .control-group label {
            display: inline-block;
            width: 150px;
            font-weight: bold;
        }
        
        input[type="range"] {
            width: 300px;
            vertical-align: middle;
        }
        
        button {
            background: #f093fb;
            color: red;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin: 5px;
            transition: all 0.3s;
        }
        
        button:hover {
            background: #f5576c;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .question-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid #f093fb;
            transition: all 0.3s;
        }
        
        .question-card:hover {
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .question-number {
            background: #f093fb;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
        }
        
        .question-text {
            margin: 15px 0;
            font-size: 1.1em;
            line-height: 1.8;
        }
        
        .options {
            margin: 20px 0;
        }
        
        .option {
            padding: 12px;
            margin: 8px 0;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .option:hover {
            background: #e9ecef;
            border-color: #f093fb;
        }
        
        .option.selected {
            background: #fce4ec;
            border-color: #f093fb;
        }
        
        .option.correct {
            background: #d4edda;
            border-color: #28a745;
        }
        
        .option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
        }
        
        .hint-box, .answer-box {
            margin: 15px 0;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }
        
        .hint-box {
            background: #fff3cd;
            border: 1px solid #ffc107;
        }
        
        .hint-box.show {
            display: block;
        }
        
        .answer-box {
            background: #d4edda;
            border: 1px solid #28a745;
        }
        
        .answer-box.show {
            display: block;
        }
        
        .button-group {
            margin: 15px 0;
        }
        
        .info-box {
            background: #d1ecf1;
            border: 1px solid #0c5460;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .key-concept {
            background: linear-gradient(135deg, #f093fb22 0%, #f5576c22 100%);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #f093fb;
        }
        
        .score-display {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            font-weight: bold;
            z-index: 1000;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        th, td {
            padding: 10px;
            border: 1px solid #dee2e6;
            text-align: left;
        }
        
        th {
            background: #f093fb;
            color: white;
        }
        
        .comparison-table {
            background: white;
            border-radius: 8px;
            overflow: hidden;
        }
        
        @media (max-width: 768px) {
            .control-group label {
                width: 100%;
                display: block;
                margin-bottom: 5px;
            }
            
            input[type="range"] {
                width: 100%;
            }
            
            .score-display {
                position: static;
                margin: 20px auto;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>âš™ï¸ Rotational Dynamics & Galilean Relativity</h1>
            <p>IB Physics HL Interactive Learning Tool</p>
            <p style="margin-top: 10px; font-size: 0.9em;">Lee McCulloch-James</p>
        </header>
        
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('theory')">ğŸ“š Theory</button>
            <button class="nav-tab" onclick="showTab('visualizations')">ğŸ¨ Visualizations</button>
            <button class="nav-tab" onclick="showTab('practice')">âœï¸ Practice Questions</button>
        </div>
        
        <div class="content">
            <!-- THEORY TAB -->
            <div id="theory" class="tab-content active">
                <h1 style="color: #f5576c; margin-bottom: 20px;">Fundamental Concepts</h1>
                
                <div class="theory-section">
                    <h2>1. Rotational Kinematics - The Angular Analogues</h2>
                    <p>Rotational motion parallels linear motion with angular quantities:</p>
                    
                    <div class="comparison-table">
                        <table>
                            <tr>
                                <th>Linear</th>
                                <th>Angular</th>
                                <th>Relationship</th>
                            </tr>
                            <tr>
                                <td>Position: x</td>
                                <td>Angle: Î¸ (rad)</td>
                                <td>s = rÎ¸</td>
                            </tr>
                            <tr>
                                <td>Velocity: v (m/s)</td>
                                <td>Angular velocity: Ï‰ (rad/s)</td>
                                <td>v = rÏ‰</td>
                            </tr>
                            <tr>
                                <td>Acceleration: a (m/sÂ²)</td>
                                <td>Angular acceleration: Î± (rad/sÂ²)</td>
                                <td>a = rÎ±</td>
                            </tr>
                        </table>
                    </div>
                    
                    <h3 style="margin-top: 20px;">Rotational Kinematics Equations:</h3>
                    <div class="formula">
                        Ï‰ = Ï‰â‚€ + Î±t<br>
                        Î¸ = Ï‰â‚€t + Â½Î±tÂ²<br>
                        Ï‰Â² = Ï‰â‚€Â² + 2Î±Î¸
                    </div>
                    
                    <div class="key-concept">
                        <strong>Key Insight:</strong> These are identical in form to the linear SUVAT equations, with Î¸â†”s, Ï‰â†”v, Î±â†”a.
                    </div>
                </div>
                
                <div class="theory-section">
                    <h2>2. Moment of Inertia (I)</h2>
                    <p>Moment of inertia is the rotational analogue of mass - it measures resistance to angular acceleration.</p>
                    
                    <div class="formula">
                        I = Î£ máµ¢ráµ¢Â² (for point masses)<br><br>
                        I = âˆ« rÂ² dm (for continuous bodies)
                    </div>
                    
                    <h3 style="margin-top: 20px;">Common Moments of Inertia:</h3>
                    <div class="comparison-table">
                        <table>
                            <tr>
                                <th>Object</th>
                                <th>Axis</th>
                                <th>Moment of Inertia</th>
                            </tr>
                            <tr>
                                <td>Point mass</td>
                                <td>Distance r from axis</td>
                                <td>I = mrÂ²</td>
                            </tr>
                            <tr>
                                <td>Solid cylinder/disk</td>
                                <td>Through center</td>
                                <td>I = Â½MRÂ²</td>
                            </tr>
                            <tr>
                                <td>Hollow cylinder</td>
                                <td>Through center</td>
                                <td>I = MRÂ²</td>
                            </tr>
                            <tr>
                                <td>Solid sphere</td>
                                <td>Through center</td>
                                <td>I = â…–MRÂ²</td>
                            </tr>
                            <tr>
                                <td>Thin rod</td>
                                <td>Through center âŠ¥ to rod</td>
                                <td>I = 1/12 MLÂ²</td>
                            </tr>
                            <tr>
                                <td>Thin rod</td>
                                <td>Through end âŠ¥ to rod</td>
                                <td>I = â…“MLÂ²</td>
                            </tr>
                        </table>
                    </div>
                    
                    <div class="info-box">
                        <strong>Important:</strong> For two point masses m separated by distance d on opposite sides of an axis at the center: I = 2m(d/2)Â² = mdÂ²/2
                    </div>
                </div>
                
                <div class="theory-section">
                    <h2>3. Torque (Ï„) and Angular Dynamics</h2>
                    <p>Torque is the rotational analogue of force.</p>
                    
                    <div class="formula">
                        Ï„ = rF sin Î¸ = râŠ¥F = rFâŠ¥<br><br>
                        Ï„ = IÎ± (Newton's 2nd Law for rotation)
                    </div>
                    
                    <div class="key-concept">
                        <strong>Key Points:</strong>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Torque depends on perpendicular distance and perpendicular force component</li>
                            <li>Net torque causes angular acceleration: Î£Ï„ = IÎ±</li>
                            <li>For a couple (two equal & opposite forces): Ï„ = Fd</li>
                        </ul>
                    </div>
                </div>
                
                <div class="theory-section">
                    <h2>4. Angular Momentum (L)</h2>
                    <p>Angular momentum is the rotational analogue of linear momentum.</p>
                    
                    <div class="formula">
                        L = IÏ‰ (for rigid body rotation)<br><br>
                        L = mvr sin Î¸ = r Ã— p (for point mass)
                    </div>
                    
                    <h3 style="margin-top: 20px;">Conservation of Angular Momentum:</h3>
                    <div class="formula">
                        If Î£Ï„ = 0, then L = constant<br>
                        Iâ‚Ï‰â‚ = Iâ‚‚Ï‰â‚‚
                    </div>
                    
                    <div class="key-concept">
                        <strong>Applications:</strong>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Ice skater pulling arms in (Iâ†“ â†’ Ï‰â†‘)</li>
                            <li>Diver tucking for spins</li>
                            <li>Planetary orbits (râ†“ â†’ vâ†‘)</li>
                        </ul>
                    </div>
                </div>
                
                <div class="theory-section">
                    <h2>5. Angular Impulse</h2>
                    <p>Angular impulse is the change in angular momentum, caused by a torque acting over time.</p>
                    
                    <div class="formula">
                        Angular Impulse = âˆ« Ï„ dt = Î”L = IÏ‰_f - IÏ‰_i<br><br>
                        For constant torque: Ï„Î”t = Î”L
                    </div>
                    
                    <div class="info-box">
                        <strong>Units:</strong> Angular momentum L has units kgÂ·mÂ²Â·sâ»Â¹ (or equivalently NÂ·mÂ·s or JÂ·s)<br>
                        Angular impulse has the same units.
                    </div>
                    
                    <div class="key-concept">
                        <strong>Sign Convention:</strong> When rotation changes direction, be careful with signs!<br>
                        Example: Ï‰ changes from +15 rad/s to -25 rad/s â†’ Î”Ï‰ = -25 - (+15) = -40 rad/s
                    </div>
                </div>
                
                <div class="theory-section">
                    <h2>6. Rotational Kinetic Energy</h2>
                    <p>A rotating object has kinetic energy due to its rotation.</p>
                    
                    <div class="formula">
                        KE_rot = Â½IÏ‰Â²
                    </div>
                    
                    <h3 style="margin-top: 20px;">Rolling Motion:</h3>
                    <p>For an object rolling without slipping (v = Ï‰r), the total kinetic energy is:</p>
                    <div class="formula">
                        KE_total = KE_trans + KE_rot<br>
                        KE_total = Â½MvÂ² + Â½IÏ‰Â²<br>
                        KE_total = Â½MvÂ² + Â½I(v/r)Â²
                    </div>
                    
                    <div class="key-concept">
                        <strong>Energy Distribution:</strong><br>
                        The ratio of rotational to translational KE depends on the moment of inertia:<br>
                        For a solid cylinder (I = Â½MRÂ²): KE_rot/KE_trans = (Â½MRÂ² Ã— vÂ²/RÂ²)/(MvÂ²) = Â½M/M = 1/2<br>
                        So rotational KE is half the translational KE.
                    </div>
                </div>
                
                <div class="theory-section">
                    <h2>7. Rolling Down an Incline</h2>
                    <p>When an object rolls without slipping down an incline, energy conservation gives:</p>
                    
                    <div class="formula">
                        mgh = Â½MvÂ² + Â½IÏ‰Â²<br>
                        mgh = Â½MvÂ² + Â½I(v/R)Â²<br>
                        mgh = Â½MvÂ²(1 + I/(MRÂ²))
                    </div>
                    
                    <div class="formula">
                        v = âˆš(2gh/(1 + I/(MRÂ²)))
                    </div>
                    
                    <div class="info-box">
                        <strong>For a solid cylinder</strong> (I = Â½MRÂ²):<br>
                        v = âˆš(2gh/(1 + Â½)) = âˆš(4gh/3)<br>
                        Therefore: h = 3vÂ²/(4g)
                    </div>
                </div>
                
                <div class="theory-section">
                    <h2>8. Key Problem-Solving Strategies</h2>
                    
                    <div class="key-concept">
                        <strong>Angular Momentum & Energy Problems:</strong>
                        <ol style="margin-left: 20px; margin-top: 10px;">
                            <li>L = IÏ‰ â†’ If you know KE = Â½IÏ‰Â², you can find L = âˆš(2IÃ—KE)</li>
                            <li>For objects with same KE: L_X/L_Y = âˆš(I_X/I_Y)</li>
                            <li>Ï‰Â² = Ï‰â‚€Â² + 2Î±Î¸ â†’ Use when you need to find angular displacement</li>
                            <li>Remember: 1 revolution = 2Ï€ radians</li>
                        </ol>
                    </div>
                    
                    <div class="key-concept">
                        <strong>Common Pitfalls:</strong>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>âš ï¸ Don't confuse I with MRÂ² - check the coefficient!</li>
                            <li>âš ï¸ For rolling: total mass M vs wheel mass m</li>
                            <li>âš ï¸ Angular impulse: watch signs when direction reverses</li>
                            <li>âš ï¸ Torque from couples: Ï„ = F Ã— d (perpendicular distance between forces)</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- VISUALIZATIONS TAB -->
            <div id="visualizations" class="tab-content">
                <h1 style="color: #f5576c; margin-bottom: 20px;">Interactive Visualizations</h1>
                
                <!-- Rotation Visualization -->
                <div class="canvas-container">
                    <h2>Rotating Disk with Torque</h2>
                    <canvas id="rotationCanvas" width="600" height="600"></canvas>
                    <div class="controls">
                        <div class="control-group">
                            <label>Torque (Ï„):</label>
                            <input type="range" id="torque" min="-5" max="5" step="0.5" value="1" oninput="updateRotationLabel()">
                            <span id="torqueValue">1.0</span> NÂ·m
                        </div>
                        <div class="control-group">
                            <label>Moment of Inertia:</label>
                            <input type="range" id="inertia" min="0.5" max="5" step="0.5" value="2" oninput="updateRotationLabel()">
                            <span id="inertiaValue">2.0</span> kgÂ·mÂ²
                        </div>
                        <button onclick="toggleRotationAnimation()">â¯ Play/Pause</button>
                        <button onclick="resetRotation()">ğŸ”„ Reset</button>
                    </div>
                    <div class="info-box">
                        <p><strong>Angular velocity:</strong> Ï‰ = <span id="omega">0.00</span> rad/s</p>
                        <p><strong>Angular acceleration:</strong> Î± = <span id="alpha">0.50</span> rad/sÂ²</p>
                        <p><strong>Angular momentum:</strong> L = <span id="angularMomentum">0.0</span> kgÂ·mÂ²/s</p>
                        <p><strong>Rotations completed:</strong> <span id="rotations">0.00</span></p>
                    </div>
                </div>
                
                <!-- Moment of Inertia Comparison -->
                <div class="canvas-container">
                    <h2>Moment of Inertia: Shape Comparison</h2>
                    <canvas id="inertiaCanvas" width="800" height="400"></canvas>
                    <div class="controls">
                        <div class="control-group">
                            <label>Shape:</label>
                            <select id="shapeSelect" onchange="updateInertiaVisualization()">
                                <option value="disk">Solid Disk (I = Â½MRÂ²)</option>
                                <option value="ring">Ring (I = MRÂ²)</option>
                                <option value="sphere">Solid Sphere (I = â…–MRÂ²)</option>
                                <option value="rod-center">Rod through center (I = 1/12 MLÂ²)</option>
                                <option value="rod-end">Rod through end (I = â…“MLÂ²)</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label>Mass:</label>
                            <input type="range" id="shapeMass" min="1" max="10" value="5" oninput="updateInertiaVisualization()">
                            <span id="massValue">5</span> kg
                        </div>
                        <div class="control-group">
                            <label>Radius/Length:</label>
                            <input type="range" id="shapeRadius" min="0.5" max="2" step="0.1" value="1" oninput="updateInertiaVisualization()">
                            <span id="radiusValue">1.0</span> m
                        </div>
                    </div>
                    <div class="info-box">
                        <p><strong>Moment of Inertia:</strong> I = <span id="momentValue">2.5</span> kgÂ·mÂ²</p>
                        <p><strong>Formula:</strong> <span id="formulaDisplay">I = Â½MRÂ²</span></p>
                    </div>
                </div>
                
                <!-- Rolling Motion -->
                <div class="canvas-container">
                    <h2>Rolling Motion Down an Incline</h2>
                    <canvas id="rollingCanvas" width="800" height="400"></canvas>
                    <div class="controls">
                        <div class="control-group">
                            <label>Object Type:</label>
                            <select id="rollingObject" onchange="updateRollingParams()">
                                <option value="solid-cylinder">Solid Cylinder (I = Â½MRÂ²)</option>
                                <option value="hollow-cylinder">Hollow Cylinder (I = MRÂ²)</option>
                                <option value="solid-sphere">Solid Sphere (I = â…–MRÂ²)</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label>Incline Angle:</label>
                            <input type="range" id="inclineAngle" min="10" max="45" value="30" oninput="updateRollingParams()">
                            <span id="angleDisplay">30</span>Â°
                        </div>
                        <button onclick="startRolling()">â–¶ Start</button>
                        <button onclick="resetRolling()">ğŸ”„ Reset</button>
                    </div>
                    <div class="info-box">
                        <p><strong>Velocity:</strong> v = <span id="rollingVelocity">0.0</span> m/s</p>
                        <p><strong>KE (trans):</strong> <span id="keTranslational">0</span> J</p>
                        <p><strong>KE (rot):</strong> <span id="keRotational">0</span> J</p>
                        <p><strong>Ratio KE_rot/KE_trans:</strong> <span id="keRatio">0</span></p>
                    </div>
                </div>
                
                <!-- Angular Momentum Conservation -->
                <div class="canvas-container">
                    <h2>Conservation of Angular Momentum</h2>
                    <canvas id="conservationCanvas" width="600" height="600"></canvas>
                    <div class="controls">
                        <p>Watch as the spinning object's moment of inertia changes (arms pulled in)</p>
                        <div class="control-group">
                            <label>Radius multiplier:</label>
                            <input type="range" id="radiusMultiplier" min="0.3" max="1" step="0.05" value="1" oninput="updateConservation()">
                            <span id="radiusMultDisplay">1.0</span>
                        </div>
                        <button onclick="toggleConservationAnimation()">â¯ Play/Pause</button>
                        <button onclick="resetConservation()">ğŸ”„ Reset</button>
                    </div>
                    <div class="info-box">
                        <p><strong>Initial:</strong> Iâ‚ = <span id="I1">4.0</span> kgÂ·mÂ², Ï‰â‚ = <span id="omega1">2.0</span> rad/s</p>
                        <p><strong>Current:</strong> Iâ‚‚ = <span id="I2">4.0</span> kgÂ·mÂ², Ï‰â‚‚ = <span id="omega2">2.0</span> rad/s</p>
                        <p><strong>Angular momentum:</strong> L = <span id="angMom">8.0</span> kgÂ·mÂ²/s (conserved!)</p>
                    </div>
                </div>
            </div>
            
            <!-- PRACTICE TAB -->
            <div id="practice" class="tab-content">
                <h1 style="color: #f5576c; margin-bottom: 20px;">Practice Questions</h1>
                <div class="score-display" id="scoreDisplay">Score: 0/11</div>
                
                <!-- Question 1 -->
                <div class="question-card" id="q1">
                    <div class="question-header">
                        <span class="question-number">Question 1</span>
                        <span>25M.1A.HL.TZ1.7</span>
                    </div>
                    <div class="question-text">
                        A system of moment of inertia <em>I</em> rotates from rest about a given axis. The angular acceleration Î± is constant.<br><br>
                        What is the change in angular momentum when the system has made <strong>four complete rotations</strong>?
                    </div>
                    <div class="options">
                        <div class="option" onclick="selectOption('q1', 'A', this)">A. 2Iâˆš(2Ï€Î±)</div>
                        <div class="option" onclick="selectOption('q1', 'B', this)">B. 4Iâˆš(Ï€Î±)</div>
                        <div class="option" onclick="selectOption('q1', 'C', this)">C. 2Iâˆš(2Î±)</div>
                        <div class="option" onclick="selectOption('q1', 'D', this)">D. 4IâˆšÎ±</div>
                    </div>
                    <div class="button-group">
                        <button onclick="showHint('q1')">ğŸ’¡ Show Hint</button>
                        <button onclick="checkAnswer('q1', 'B')">âœ“ Check Answer</button>
                    </div>
                    <div class="hint-box" id="q1-hint">
                        <strong>Hint:</strong> Use Ï‰Â² = Ï‰â‚€Â² + 2Î±Î¸. Four rotations = 8Ï€ radians. Then Î”L = IÏ‰ - 0.
                    </div>
                    <div class="answer-box" id="q1-answer">
                        <strong>Answer: B (4Iâˆš(Ï€Î±))</strong><br>
                        <strong>Explanation:</strong><br>
                        Î¸ = 4 Ã— 2Ï€ = 8Ï€ rad<br>
                        Ï‰Â² = 0 + 2Î±(8Ï€) = 16Ï€Î±<br>
                        Ï‰ = 4âˆš(Ï€Î±)<br>
                        Î”L = IÏ‰ - 0 = I Ã— 4âˆš(Ï€Î±) = 4Iâˆš(Ï€Î±)
                    </div>
                </div>
                
                <!-- Question 2 -->
                <div class="question-card" id="q2">
                    <div class="question-header">
                        <span class="question-number">Question 2</span>
                        <span>25M.1A.HL.TZ1.8</span>
                    </div>
                    <div class="question-text">
                        Two small spheres each of mass 10 kg are 8.0 m apart and connected by a rod of negligible mass. The system rotates about an axis halfway along the rod and perpendicular to it.<br><br>
                        <svg width="300" height="100" style="display: block; margin: 20px auto;">
                            <line x1="50" y1="50" x2="250" y2="50" stroke="#333" stroke-width="3"/>
                            <circle cx="50" cy="50" r="20" fill="#f093fb"/>
                            <circle cx="250" cy="50" r="20" fill="#f093fb"/>
                            <line x1="150" y1="30" x2="150" y2="70" stroke="#666" stroke-width="2"/>
                            <text x="150" y="20" text-anchor="middle" font-size="12">axis</text>
                            <text x="150" y="95" text-anchor="middle" font-size="14">8.0 m</text>
                            <line x1="50" y1="85" x2="250" y2="85" stroke="#666" stroke-width="1"/>
                            <line x1="50" y1="80" x2="50" y2="90" stroke="#666" stroke-width="1"/>
                            <line x1="250" y1="80" x2="250" y2="90" stroke="#666" stroke-width="1"/>
                        </svg>
                        What is the moment of inertia of the system?
                    </div>
                    <div class="options">
                        <div class="option" onclick="selectOption('q2', 'A', this)">A. 160 kgÂ·mÂ²</div>
                        <div class="option" onclick="selectOption('q2', 'B', this)">B. 320 kgÂ·mÂ²</div>
                        <div class="option" onclick="selectOption('q2', 'C', this)">C. 640 kgÂ·mÂ²</div>
                        <div class="option" onclick="selectOption('q2', 'D', this)">D. 1280 kgÂ·mÂ²</div>
                    </div>
                    <div class="button-group">
                        <button onclick="showHint('q2')">ğŸ’¡ Show Hint</button>
                        <button onclick="checkAnswer('q2', 'B')">âœ“ Check Answer</button>
                    </div>
                    <div class="hint-box" id="q2-hint">
                        <strong>Hint:</strong> Each sphere is 4.0 m from the axis. I = Î£ mrÂ². Don't forget there are TWO spheres!
                    </div>
                    <div class="answer-box" id="q2-answer">
                        <strong>Answer: B (320 kgÂ·mÂ²)</strong><br>
                        <strong>Explanation:</strong><br>
                        Each sphere is r = 4.0 m from the axis<br>
                        I = 2 Ã— m Ã— rÂ² = 2 Ã— 10 Ã— 4.0Â² = 2 Ã— 10 Ã— 16 = 320 kgÂ·mÂ²
                    </div>
                </div>
                
                <!-- Question 3 -->
                <div class="question-card" id="q3">
                    <div class="question-header">
                        <span class="question-number">Question 3</span>
                        <span>25M.1A.HL.TZ2.6</span>
                    </div>
                    <div class="question-text">
                        A wheel, initially at rest, rolls without slipping down an incline for 4.0 s. The final angular velocity is 5Ï€ rad/s.<br><br>
                        How many revolutions did the wheel complete?
                    </div>
                    <div class="options">
                        <div class="option" onclick="selectOption('q3', 'A', this)">A. 5</div>
                        <div class="option" onclick="selectOption('q3', 'B', this)">B. 10</div>
                        <div class="option" onclick="selectOption('q3', 'C', this)">C. 15</div>
                        <div class="option" onclick="selectOption('q3', 'D', this)">D. 30</div>
                    </div>
                    <div class="button-group">
                        <button onclick="showHint('q3')">ğŸ’¡ Show Hint</button>
                        <button onclick="checkAnswer('q3', 'A')">âœ“ Check Answer</button>
                    </div>
                    <div class="hint-box" id="q3-hint">
                        <strong>Hint:</strong> Use Î¸ = Â½(Ï‰â‚€ + Ï‰)t. Then convert radians to revolutions (Ã· 2Ï€).
                    </div>
                    <div class="answer-box" id="q3-answer">
                        <strong>Answer: A (5 revolutions)</strong><br>
                        <strong>Explanation:</strong><br>
                        Î¸ = Â½(0 + 5Ï€) Ã— 4.0 = 10Ï€ rad<br>
                        Number of revolutions = 10Ï€ / 2Ï€ = 5
                    </div>
                </div>
                
                <!-- Question 4 -->
                <div class="question-card" id="q4">
                    <div class="question-header">
                        <span class="question-number">Question 4</span>
                        <span>25M.1A.HL.TZ2.8</span>
                    </div>
                    <div class="question-text">
                        A car of total mass <em>M</em> travels at constant speed <em>v</em>. Each of the four wheels has mass <em>m</em> and radius <em>R</em> and rolls without slipping. The moment of inertia of each wheel is I = Â½mRÂ².<br><br>
                        What is the ratio: <strong>(sum of rotational KE of all four wheels) / (translational KE of car)</strong>?
                    </div>
                    <div class="options">
                        <div class="option" onclick="selectOption('q4', 'A', this)">A. m/(2M)</div>
                        <div class="option" onclick="selectOption('q4', 'B', this)">B. m/M</div>
                        <div class="option" onclick="selectOption('q4', 'C', this)">C. 2m/M</div>
                        <div class="option" onclick="selectOption('q4', 'D', this)">D. 4m/M</div>
                    </div>
                    <div class="button-group">
                        <button onclick="showHint('q4')">ğŸ’¡ Show Hint</button>
                        <button onclick="checkAnswer('q4', 'C')">âœ“ Check Answer</button>
                    </div>
                    <div class="hint-box" id="q4-hint">
                        <strong>Hint:</strong> KE_rot (one wheel) = Â½IÏ‰Â² = Â½(Â½mRÂ²)(v/R)Â² = Â¼mvÂ². Multiply by 4 wheels. Compare to Â½MvÂ².
                    </div>
                    <div class="answer-box" id="q4-answer">
                        <strong>Answer: C (2m/M)</strong><br>
                        <strong>Explanation:</strong><br>
                        For one wheel: KE_rot = Â½ Ã— Â½mRÂ² Ã— (v/R)Â² = Â¼mvÂ²<br>
                        For four wheels: KE_rot(total) = 4 Ã— Â¼mvÂ² = mvÂ²<br>
                        Car translational KE: KE_trans = Â½MvÂ²<br>
                        Ratio = mvÂ² / (Â½MvÂ²) = 2m/M
                    </div>
                </div>
                
                <!-- Question 5 -->
                <div class="question-card" id="q5">
                    <div class="question-header">
                        <span class="question-number">Question 5</span>
                        <span>25M.1A.HL.TZ3.7</span>
                    </div>
                    <div class="question-text">
                        A solid cylinder of mass <em>m</em> and radius <em>r</em> is released from rest on an inclined plane. The cylinder rolls without slipping. The moment of inertia is I = Â½mrÂ². The speed when it reaches the bottom is <em>v</em>.<br><br>
                        What is the vertical height from which the cylinder was released?
                    </div>
                    <div class="options">
                        <div class="option" onclick="selectOption('q5', 'A', this)">A. vÂ²/g</div>
                        <div class="option" onclick="selectOption('q5', 'B', this)">B. 3vÂ²/(4g)</div>
                        <div class="option" onclick="selectOption('q5', 'C', this)">C. vÂ²/(2g)</div>
                        <div class="option" onclick="selectOption('q5', 'D', this)">D. vÂ²/(4g)</div>
                    </div>
                    <div class="button-group">
                        <button onclick="showHint('q5')">ğŸ’¡ Show Hint</button>
                        <button onclick="checkAnswer('q5', 'B')">âœ“ Check Answer</button>
                    </div>
                    <div class="hint-box" id="q5-hint">
                        <strong>Hint:</strong> Energy: mgh = Â½mvÂ² + Â½IÏ‰Â² = Â½mvÂ² + Â½(Â½mrÂ²)(v/r)Â² = Â½mvÂ² + Â¼mvÂ²
                    </div>
                    <div class="answer-box" id="q5-answer">
                        <strong>Answer: B (3vÂ²/(4g))</strong><br>
                        <strong>Explanation:</strong><br>
                        mgh = Â½mvÂ² + Â½ Ã— Â½mrÂ² Ã— (v/r)Â²<br>
                        mgh = Â½mvÂ² + Â¼mvÂ² = Â¾mvÂ²<br>
                        h = 3vÂ²/(4g)
                    </div>
                </div>
                
                <!-- Question 6 -->
                <div class="question-card" id="q6">
                    <div class="question-header">
                        <span class="question-number">Question 6</span>
                        <span>25M.1A.HL.TZ3.8</span>
                    </div>
                    <div class="question-text">
                        Two spheres, X and Y, are spinning with the same rotational kinetic energy. The moment of inertia of X is I_X and that of Y is I_Y.<br><br>
                        What is (angular momentum of X) / (angular momentum of Y)?
                    </div>
                    <div class="options">
                        <div class="option" onclick="selectOption('q6', 'A', this)">A. âˆš(I_X/I_Y)</div>
                        <div class="option" onclick="selectOption('q6', 'B', this)">B. âˆš(I_Y/I_X)</div>
                        <div class="option" onclick="selectOption('q6', 'C', this)">C. I_X/I_Y</div>
                        <div class="option" onclick="selectOption('q6', 'D', this)">D. I_Y/I_X</div>
                    </div>
                    <div class="button-group">
                        <button onclick="showHint('q6')">ğŸ’¡ Show Hint</button>
                        <button onclick="checkAnswer('q6', 'A')">âœ“ Check Answer</button>
                    </div>
                    <div class="hint-box" id="q6-hint">
                        <strong>Hint:</strong> If KE = Â½IÏ‰Â² is the same, then L = IÏ‰ = âˆš(2I Ã— KE). So L âˆ âˆšI.
                    </div>
                    <div class="answer-box" id="q6-answer">
                        <strong>Answer: A (âˆš(I_X/I_Y))</strong><br>
                        <strong>Explanation:</strong><br>
                        KE_X = KE_Y â†’ Â½I_X Ï‰_XÂ² = Â½I_Y Ï‰_YÂ²<br>
                        L = IÏ‰ and KE = Â½IÏ‰Â² â†’ L = âˆš(2I Ã— KE)<br>
                        Since KE is the same: L_X/L_Y = âˆš(I_X/I_Y)
                    </div>
                </div>
                
                <!-- Question 7 -->
                <div class="question-card" id="q7">
                    <div class="question-header">
                        <span class="question-number">Question 7</span>
                        <span>SPM.1A.HL.TZ0.4</span>
                    </div>
                    <div class="question-text">
                        A disc of mass M and radius R is on a horizontal frictionless table. Two equal and opposite forces, each of magnitude F, act on the disc as shown. The moment of inertia of the disc about its axis is Â½MRÂ².<br><br>
                        <svg width="200" height="200" style="display: block; margin: 20px auto;">
                            <circle cx="100" cy="100" r="60" fill="#ddd" stroke="#333" stroke-width="2"/>
                            <circle cx="100" cy="100" r="3" fill="#333"/>
                            <text x="100" y="105" text-anchor="middle" font-size="10">axis</text>
                            <!-- Force arrows - TANGENTIAL (perpendicular to radii) -->
                            <defs>
                                <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                    <polygon points="0 0, 10 3, 0 6" fill="#f5576c"/>
                                </marker>
                            </defs>
                            <!-- Top force - pointing right (tangent to circle at top) -->
                            <line x1="70" y1="40" x2="130" y2="40" stroke="#f5576c" stroke-width="3" marker-end="url(#arrowhead)"/>
                            <text x="135" y="45" font-size="14" fill="#f5576c" font-weight="bold">F</text>
                            <!-- Bottom force - pointing left (tangent to circle at bottom) -->
                            <line x1="130" y1="160" x2="70" y2="160" stroke="#f5576c" stroke-width="3" marker-end="url(#arrowhead)"/>
                            <text x="55" y="165" font-size="14" fill="#f5576c" font-weight="bold">F</text>
                            <!-- Circular arrow showing rotation direction -->
                            <path d="M 100 50 A 50 50 0 0 1 140 90" fill="none" stroke="#999" stroke-width="1" stroke-dasharray="3,3"/>
                            <polygon points="142 88, 145 95, 137 93" fill="#999"/>
                        </svg>
                        What is the angular acceleration of the disc?
                    </div>
                    <div class="options">
                        <div class="option" onclick="selectOption('q7', 'A', this)">A. 0</div>
                        <div class="option" onclick="selectOption('q7', 'B', this)">B. F/(MR)</div>
                        <div class="option" onclick="selectOption('q7', 'C', this)">C. 2F/(MR)</div>
                        <div class="option" onclick="selectOption('q7', 'D', this)">D. 4F/(MR)</div>
                    </div>
                    <div class="button-group">
                        <button onclick="showHint('q7')">ğŸ’¡ Show Hint</button>
                        <button onclick="checkAnswer('q7', 'D')">âœ“ Check Answer</button>
                    </div>
                    <div class="hint-box" id="q7-hint">
                        <strong>Hint:</strong> This is a couple (two equal & opposite forces). Total torque = F Ã— d where d is the perpendicular distance between the forces. Here d = 2R.
                    </div>
                    <div class="answer-box" id="q7-answer">
                        <strong>Answer: D (4F/(MR))</strong><br>
                        <strong>Explanation:</strong><br>
                        The two forces form a couple with perpendicular distance d = 2R<br>
                        Total torque: Ï„ = F Ã— 2R = 2FR<br>
                        Ï„ = IÎ± â†’ 2FR = Â½MRÂ² Ã— Î±<br>
                        Î± = 4FR/(MRÂ²) = 4F/(MR)
                    </div>
                </div>
                
                <!-- Question 8 -->
                <div class="question-card" id="q8">
                    <div class="question-header">
                        <span class="question-number">Question 8</span>
                        <span>EXE.1A.HL.TZ0.5</span>
                    </div>
                    <div class="question-text">
                        What are the fundamental SI units for angular impulse?
                    </div>
                    <div class="options">
                        <div class="option" onclick="selectOption('q8', 'A', this)">A. kgÂ·mÂ·sâ»Â¹</div>
                        <div class="option" onclick="selectOption('q8', 'B', this)">B. kgÂ·mÂ²Â·sâ»Â¹</div>
                        <div class="option" onclick="selectOption('q8', 'C', this)">C. kgÂ·mÂ·sâ»Â²</div>
                        <div class="option" onclick="selectOption('q8', 'D', this)">D. kgÂ·mÂ²Â·sâ»Â²</div>
                    </div>
                    <div class="button-group">
                        <button onclick="showHint('q8')">ğŸ’¡ Show Hint</button>
                        <button onclick="checkAnswer('q8', 'B')">âœ“ Check Answer</button>
                    </div>
                    <div class="hint-box" id="q8-hint">
                        <strong>Hint:</strong> Angular impulse = Î”L = Î”(IÏ‰). What are the units of I and Ï‰?
                    </div>
                    <div class="answer-box" id="q8-answer">
                        <strong>Answer: B (kgÂ·mÂ²Â·sâ»Â¹)</strong><br>
                        <strong>Explanation:</strong><br>
                        Angular impulse = change in angular momentum = Î”L<br>
                        L = IÏ‰ where I has units kgÂ·mÂ² and Ï‰ has units sâ»Â¹<br>
                        Therefore L has units kgÂ·mÂ²Â·sâ»Â¹
                    </div>
                </div>
                
                <!-- Question 9 -->
                <div class="question-card" id="q9">
                    <div class="question-header">
                        <span class="question-number">Question 9</span>
                        <span>EXE.1A.HL.TZ0.6</span>
                    </div>
                    <div class="question-text">
                        A flywheel of moment of inertia 0.50 kgÂ·mÂ² rotates anti-clockwise with an initial angular velocity of 15 rad/s. A torque is applied and its angular velocity changes to 25 rad/s rotating clockwise.<br><br>
                        What is the angular impulse delivered to the flywheel?
                    </div>
                    <div class="options">
                        <div class="option" onclick="selectOption('q9', 'A', this)">A. 5.0 NÂ·mÂ·s</div>
                        <div class="option" onclick="selectOption('q9', 'B', this)">B. 10 NÂ·mÂ·s</div>
                        <div class="option" onclick="selectOption('q9', 'C', this)">C. 20 NÂ·mÂ·s</div>
                        <div class="option" onclick="selectOption('q9', 'D', this)">D. 40 NÂ·mÂ·s</div>
                    </div>
                    <div class="button-group">
                        <button onclick="showHint('q9')">ğŸ’¡ Show Hint</button>
                        <button onclick="checkAnswer('q9', 'C')">âœ“ Check Answer</button>
                    </div>
                    <div class="hint-box" id="q9-hint">
                        <strong>Hint:</strong> Direction changes! If anti-clockwise is +15, then clockwise is -25. Î”L = I(Ï‰_f - Ï‰_i). Magnitude is |Î”L|.
                    </div>
                    <div class="answer-box" id="q9-answer">
                        <strong>Answer: C (20 NÂ·mÂ·s)</strong><br>
                        <strong>Explanation:</strong><br>
                        Let anti-clockwise be positive: Ï‰_i = +15 rad/s<br>
                        Clockwise is negative: Ï‰_f = -25 rad/s<br>
                        Î”L = I(Ï‰_f - Ï‰_i) = 0.50 Ã— (-25 - 15) = 0.50 Ã— (-40) = -20 kgÂ·mÂ²/s<br>
                        Magnitude: |Î”L| = 20 NÂ·mÂ·s
                    </div>
                </div>
                
                <!-- Question 10 -->
                <div class="question-card" id="q10">
                    <div class="question-header">
                        <span class="question-number">Question 10</span>
                        <span>EXE.1A.HL.TZ0.7</span>
                    </div>
                    <div class="question-text">
                        A constant torque acts on a bicycle wheel. The wheel accelerates from rest to a final angular velocity of 16 rad/s in 4.0 s.<br><br>
                        What is the angular displacement of the wheel during the acceleration?
                    </div>
                    <div class="options">
                        <div class="option" onclick="selectOption('q10', 'A', this)">A. 16 rad</div>
                        <div class="option" onclick="selectOption('q10', 'B', this)">B. 32 rad</div>
                        <div class="option" onclick="selectOption('q10', 'C', this)">C. 48 rad</div>
                        <div class="option" onclick="selectOption('q10', 'D', this)">D. 64 rad</div>
                    </div>
                    <div class="button-group">
                        <button onclick="showHint('q10')">ğŸ’¡ Show Hint</button>
                        <button onclick="checkAnswer('q10', 'B')">âœ“ Check Answer</button>
                    </div>
                    <div class="hint-box" id="q10-hint">
                        <strong>Hint:</strong> Use Î¸ = Â½(Ï‰â‚€ + Ï‰)t for constant acceleration.
                    </div>
                    <div class="answer-box" id="q10-answer">
                        <strong>Answer: B (32 rad)</strong><br>
                        <strong>Explanation:</strong><br>
                        Î¸ = Â½(Ï‰â‚€ + Ï‰)t = Â½(0 + 16) Ã— 4.0 = 8 Ã— 4.0 = 32 rad
                    </div>
                </div>
                
                <!-- Question 11 -->
                <div class="question-card" id="q11">
                    <div class="question-header">
                        <span class="question-number">Question 11</span>
                        <span>EXE.1A.HL.TZ0.10</span>
                    </div>
                    <div class="question-text">
                        An object with moment of inertia 12 kgÂ·mÂ² is rotating about its axis with angular speed 15 rad/s. A torque is applied so that its angular speed increases to 50 rad/s.<br><br>
                        What angular impulse acted on the object?
                    </div>
                    <div class="options">
                        <div class="option" onclick="selectOption('q11', 'A', this)">A. 420 kgÂ·mÂ²Â·sâ»Â¹</div>
                        <div class="option" onclick="selectOption('q11', 'B', this)">B. 780 kgÂ·mÂ²Â·sâ»Â¹</div>
                        <div class="option" onclick="selectOption('q11', 'C', this)">C. 390 kgÂ·mÂ²Â·sâ»Â¹</div>
                        <div class="option" onclick="selectOption('q11', 'D', this)">D. 210 kgÂ·mÂ²Â·sâ»Â¹</div>
                    </div>
                    <div class="button-group">
                        <button onclick="showHint('q11')">ğŸ’¡ Show Hint</button>
                        <button onclick="checkAnswer('q11', 'A')">âœ“ Check Answer</button>
                    </div>
                    <div class="hint-box" id="q11-hint">
                        <strong>Hint:</strong> Angular impulse = Î”L = I(Ï‰_f - Ï‰_i). Simple calculation.
                    </div>
                    <div class="answer-box" id="q11-answer">
                        <strong>Answer: A (420 kgÂ·mÂ²Â·sâ»Â¹)</strong><br>
                        <strong>Explanation:</strong><br>
                        Angular impulse = Î”L = I(Ï‰_f - Ï‰_i)<br>
                        = 12 Ã— (50 - 15) = 12 Ã— 35 = 420 kgÂ·mÂ²Â·sâ»Â¹
                    </div>
                </div>
                
                <div style="text-align: center; margin: 40px 0; padding: 30px; background: linear-gradient(135deg, #f093fb22 0%, #f5576c22 100%); border-radius: 10px;">
                    <h2 style="color: #f5576c;">ğŸ‰ Practice Complete!</h2>
                    <p style="font-size: 1.2em; margin-top: 15px;">Review the theory and visualizations to master rotational dynamics.</p>
                    <button onclick="resetAllQuestions()" style="margin-top: 20px; font-size: 1.1em; padding: 12px 30px;">ğŸ”„ Reset All Questions</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Tab Management
        function showTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            const navTabs = document.querySelectorAll('.nav-tab');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            navTabs.forEach(tab => tab.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }
        
        // Score tracking
        let score = 0;
        let answered = new Set();
        
        function updateScore() {
            document.getElementById('scoreDisplay').textContent = `Score: ${score}/11`;
        }
        
        // Question handling
        function selectOption(questionId, option, element) {
            const options = document.querySelectorAll(`#${questionId} .option`);
            options.forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        function showHint(questionId) {
            const hint = document.getElementById(`${questionId}-hint`);
            hint.classList.toggle('show');
        }
        
        function checkAnswer(questionId, correctAnswer) {
            // Just show the answer box - that's it!
            const answerBox = document.getElementById(questionId + '-answer');
            answerBox.classList.add('show');
            
            // Update score only once
            if (!answered.has(questionId)) {
                const selected = document.querySelector(`#${questionId} .option.selected`);
                if (selected) {
                    // Find which option was selected
                    const options = document.querySelectorAll(`#${questionId} .option`);
                    for (let i = 0; i < options.length; i++) {
                        if (options[i] === selected) {
                            const selectedLetter = ['A', 'B', 'C', 'D'][i];
                            if (selectedLetter === correctAnswer) {
                                score++;
                            }
                            break;
                        }
                    }
                }
                answered.add(questionId);
                updateScore();
            }
        }
        
        function resetAllQuestions() {
            for (let i = 1; i <= 11; i++) {
                const qId = `q${i}`;
                const options = document.querySelectorAll(`#${qId} .option`);
                options.forEach(opt => {
                    opt.classList.remove('selected', 'correct', 'incorrect');
                    opt.style.pointerEvents = 'auto';
                });
                document.getElementById(`${qId}-hint`).classList.remove('show');
                document.getElementById(`${qId}-answer`).classList.remove('show');
            }
            score = 0;
            answered.clear();
            updateScore();
        }
        
        // ===== ROTATING DISK VISUALIZATION =====
        const rotationCanvas = document.getElementById('rotationCanvas');
        const rotationCtx = rotationCanvas.getContext('2d');
        let rotationTime = 0;
        let rotationTheta = 0;
        let rotationOmega = 0;
        let rotationAnimating = false;
        
        function updateRotationLabel() {
            document.getElementById('torqueValue').textContent = document.getElementById('torque').value;
            document.getElementById('inertiaValue').textContent = document.getElementById('inertia').value;
            
            const tau = parseFloat(document.getElementById('torque').value);
            const I = parseFloat(document.getElementById('inertia').value);
            const alpha = tau / I;
            document.getElementById('alpha').textContent = alpha.toFixed(2);
        }
        
        function drawRotation() {
            const tau = parseFloat(document.getElementById('torque').value);
            const I = parseFloat(document.getElementById('inertia').value);
            const alpha = tau / I;
            
            rotationCtx.clearRect(0, 0, rotationCanvas.width, rotationCanvas.height);
            
            const centerX = rotationCanvas.width / 2;
            const centerY = rotationCanvas.height / 2;
            const radius = 150;
            
            // Draw disk
            rotationCtx.fillStyle = '#f093fb';
            rotationCtx.beginPath();
            rotationCtx.arc(centerX, centerY, radius, 0, Math.PI * 2);
            rotationCtx.fill();
            
            // Draw radius line
            rotationCtx.strokeStyle = 'white';
            rotationCtx.lineWidth = 4;
            rotationCtx.beginPath();
            rotationCtx.moveTo(centerX, centerY);
            rotationCtx.lineTo(centerX + radius * Math.cos(rotationTheta), 
                               centerY + radius * Math.sin(rotationTheta));
            rotationCtx.stroke();
            
            // Draw center
            rotationCtx.fillStyle = 'white';
            rotationCtx.beginPath();
            rotationCtx.arc(centerX, centerY, 8, 0, Math.PI * 2);
            rotationCtx.fill();
            
            // Draw force arrows
            const arrowLength = 80;
            const arrowStart = radius + 30;
            
            if (tau > 0) {
                // Torque arrows (counterclockwise)
                drawArrow(rotationCtx, centerX, centerY - arrowStart, 
                         centerX + arrowLength, centerY - arrowStart, '#f5576c', 3);
                drawArrow(rotationCtx, centerX, centerY + arrowStart, 
                         centerX - arrowLength, centerY + arrowStart, '#f5576c', 3);
            } else if (tau < 0) {
                // Torque arrows (clockwise)
                drawArrow(rotationCtx, centerX, centerY - arrowStart, 
                         centerX - arrowLength, centerY - arrowStart, '#f5576c', 3);
                drawArrow(rotationCtx, centerX, centerY + arrowStart, 
                         centerX + arrowLength, centerY + arrowStart, '#f5576c', 3);
            }
            
            // Update values
            document.getElementById('omega').textContent = rotationOmega.toFixed(2);
            const L = I * rotationOmega;
            document.getElementById('angularMomentum').textContent = L.toFixed(1);
            const rotations = rotationTheta / (2 * Math.PI);
            document.getElementById('rotations').textContent = rotations.toFixed(2);
        }
        
        function drawArrow(ctx, fromX, fromY, toX, toY, color, width) {
            ctx.strokeStyle = color;
            ctx.fillStyle = color;
            ctx.lineWidth = width;
            
            const headLength = 15;
            const dx = toX - fromX;
            const dy = toY - fromY;
            const angle = Math.atan2(dy, dx);
            
            ctx.beginPath();
            ctx.moveTo(fromX, fromY);
            ctx.lineTo(toX, toY);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(toX, toY);
            ctx.lineTo(toX - headLength * Math.cos(angle - Math.PI / 6),
                      toY - headLength * Math.sin(angle - Math.PI / 6));
            ctx.lineTo(toX - headLength * Math.cos(angle + Math.PI / 6),
                      toY - headLength * Math.sin(angle + Math.PI / 6));
            ctx.closePath();
            ctx.fill();
        }
        
        function animateRotation() {
            if (rotationAnimating) {
                const tau = parseFloat(document.getElementById('torque').value);
                const I = parseFloat(document.getElementById('inertia').value);
                const alpha = tau / I;
                const dt = 0.05;
                
                rotationOmega += alpha * dt;
                rotationTheta += rotationOmega * dt;
                
                drawRotation();
                requestAnimationFrame(animateRotation);
            }
        }
        
        function toggleRotationAnimation() {
            rotationAnimating = !rotationAnimating;
            if (rotationAnimating) animateRotation();
        }
        
        function resetRotation() {
            rotationTime = 0;
            rotationTheta = 0;
            rotationOmega = 0;
            drawRotation();
        }
        
        // ===== MOMENT OF INERTIA VISUALIZATION =====
        const inertiaCanvas = document.getElementById('inertiaCanvas');
        const inertiaCtx = inertiaCanvas.getContext('2d');
        
        function updateInertiaVisualization() {
            const shape = document.getElementById('shapeSelect').value;
            const M = parseFloat(document.getElementById('shapeMass').value);
            const R = parseFloat(document.getElementById('shapeRadius').value);
            
            document.getElementById('massValue').textContent = M;
            document.getElementById('radiusValue').textContent = R.toFixed(1);
            
            let I, formula;
            
            switch(shape) {
                case 'disk':
                    I = 0.5 * M * R * R;
                    formula = 'I = Â½MRÂ²';
                    break;
                case 'ring':
                    I = M * R * R;
                    formula = 'I = MRÂ²';
                    break;
                case 'sphere':
                    I = 0.4 * M * R * R;
                    formula = 'I = â…–MRÂ²';
                    break;
                case 'rod-center':
                    I = (1/12) * M * (2*R) * (2*R);
                    formula = 'I = 1/12 MLÂ²';
                    break;
                case 'rod-end':
                    I = (1/3) * M * (2*R) * (2*R);
                    formula = 'I = â…“MLÂ²';
                    break;
            }
            
            document.getElementById('momentValue').textContent = I.toFixed(2);
            document.getElementById('formulaDisplay').textContent = formula;
            
            drawInertiaShape(shape, M, R);
        }
        
        function drawInertiaShape(shape, M, R) {
            inertiaCtx.clearRect(0, 0, inertiaCanvas.width, inertiaCanvas.height);
            
            const centerX = inertiaCanvas.width / 2;
            const centerY = inertiaCanvas.height / 2;
            const scale = 100;
            
            inertiaCtx.strokeStyle = '#333';
            inertiaCtx.lineWidth = 2;
            
            // Draw axis
            inertiaCtx.strokeStyle = '#999';
            inertiaCtx.setLineDash([5, 5]);
            inertiaCtx.beginPath();
            inertiaCtx.moveTo(centerX, centerY - 150);
            inertiaCtx.lineTo(centerX, centerY + 150);
            inertiaCtx.stroke();
            inertiaCtx.setLineDash([]);
            
            switch(shape) {
                case 'disk':
                    inertiaCtx.fillStyle = '#f093fb';
                    inertiaCtx.beginPath();
                    inertiaCtx.arc(centerX, centerY, R * scale, 0, Math.PI * 2);
                    inertiaCtx.fill();
                    inertiaCtx.strokeStyle = '#333';
                    inertiaCtx.stroke();
                    break;
                    
                case 'ring':
                    inertiaCtx.strokeStyle = '#f093fb';
                    inertiaCtx.lineWidth = 15;
                    inertiaCtx.beginPath();
                    inertiaCtx.arc(centerX, centerY, R * scale, 0, Math.PI * 2);
                    inertiaCtx.stroke();
                    break;
                    
                case 'sphere':
                    const gradient = inertiaCtx.createRadialGradient(
                        centerX - R * scale / 3, centerY - R * scale / 3, 0,
                        centerX, centerY, R * scale
                    );
                    gradient.addColorStop(0, '#ffffff');
                    gradient.addColorStop(1, '#f093fb');
                    inertiaCtx.fillStyle = gradient;
                    inertiaCtx.beginPath();
                    inertiaCtx.arc(centerX, centerY, R * scale, 0, Math.PI * 2);
                    inertiaCtx.fill();
                    inertiaCtx.strokeStyle = '#333';
                    inertiaCtx.lineWidth = 2;
                    inertiaCtx.stroke();
                    break;
                    
                case 'rod-center':
                    inertiaCtx.fillStyle = '#f093fb';
                    inertiaCtx.fillRect(centerX - 10, centerY - R * scale, 
                                       20, 2 * R * scale);
                    inertiaCtx.strokeStyle = '#333';
                    inertiaCtx.strokeRect(centerX - 10, centerY - R * scale, 
                                         20, 2 * R * scale);
                    break;
                    
                case 'rod-end':
                    inertiaCtx.fillStyle = '#f093fb';
                    inertiaCtx.fillRect(centerX - 10, centerY, 
                                       20, 2 * R * scale);
                    inertiaCtx.strokeStyle = '#333';
                    inertiaCtx.strokeRect(centerX - 10, centerY, 
                                         20, 2 * R * scale);
                    break;
            }
            
            // Label
            inertiaCtx.fillStyle = '#333';
            inertiaCtx.font = '14px Arial';
            inertiaCtx.fillText('Rotation axis', centerX + 10, centerY - 160);
        }
        
        // ===== ROLLING MOTION VISUALIZATION =====
        const rollingCanvas = document.getElementById('rollingCanvas');
        const rollingCtx = rollingCanvas.getContext('2d');
        let rollingX = 100;
        let rollingV = 0;
        let rollingTheta = 0;
        let rollingAnimating = false;
        
        function updateRollingParams() {
            document.getElementById('angleDisplay').textContent = 
                document.getElementById('inclineAngle').value;
        }
        
        function drawRolling() {
            const objType = document.getElementById('rollingObject').value;
            const angle = parseFloat(document.getElementById('inclineAngle').value) * Math.PI / 180;
            
            rollingCtx.clearRect(0, 0, rollingCanvas.width, rollingCanvas.height);
            
            // Draw incline
            rollingCtx.strokeStyle = '#333';
            rollingCtx.fillStyle = '#e0e0e0';
            rollingCtx.lineWidth = 3;
            rollingCtx.beginPath();
            rollingCtx.moveTo(50, 350);
            rollingCtx.lineTo(750, 350);
            rollingCtx.lineTo(750, 350 - 700 * Math.tan(angle));
            rollingCtx.closePath();
            rollingCtx.fill();
            rollingCtx.stroke();
            
            // Draw rolling object
            const radius = 30;
            const yPos = 350 - (rollingX - 50) * Math.tan(angle) - radius;
            
            rollingCtx.save();
            rollingCtx.translate(rollingX, yPos);
            rollingCtx.rotate(rollingTheta);
            
            rollingCtx.fillStyle = '#f093fb';
            rollingCtx.strokeStyle = '#333';
            rollingCtx.lineWidth = 2;
            rollingCtx.beginPath();
            rollingCtx.arc(0, 0, radius, 0, Math.PI * 2);
            rollingCtx.fill();
            rollingCtx.stroke();
            
            // Draw radius line
            rollingCtx.strokeStyle = 'white';
            rollingCtx.lineWidth = 3;
            rollingCtx.beginPath();
            rollingCtx.moveTo(0, 0);
            rollingCtx.lineTo(radius, 0);
            rollingCtx.stroke();
            
            rollingCtx.restore();
            
            // Update energy displays
            const m = 2; // kg
            const g = 9.8;
            const h = (rollingX - 50) * Math.tan(angle) / 100; // Convert to meters
            
            let keFactor;
            switch(objType) {
                case 'solid-cylinder':
                    keFactor = 1.5;
                    break;
                case 'hollow-cylinder':
                    keFactor = 2;
                    break;
                case 'solid-sphere':
                    keFactor = 1.4;
                    break;
            }
            
            const totalKE = m * g * h;
            const keTrans = totalKE / keFactor;
            const keRot = totalKE - keTrans;
            
            document.getElementById('rollingVelocity').textContent = rollingV.toFixed(1);
            document.getElementById('keTranslational').textContent = keTrans.toFixed(1);
            document.getElementById('keRotational').textContent = keRot.toFixed(1);
            document.getElementById('keRatio').textContent = (keRot / keTrans).toFixed(2);
        }
        
        function startRolling() {
            if (!rollingAnimating) {
                rollingAnimating = true;
                animateRolling();
            }
        }
        
        function animateRolling() {
            if (rollingAnimating && rollingX < 700) {
                const angle = parseFloat(document.getElementById('inclineAngle').value) * Math.PI / 180;
                const g = 9.8;
                const a = g * Math.sin(angle) / 1.5; // For solid cylinder
                
                rollingV += a * 0.1;
                rollingX += rollingV * 0.1;
                rollingTheta += rollingV * 0.1 / 30; // radius = 30
                
                drawRolling();
                requestAnimationFrame(animateRolling);
            } else {
                rollingAnimating = false;
            }
        }
        
        function resetRolling() {
            rollingX = 100;
            rollingV = 0;
            rollingTheta = 0;
            rollingAnimating = false;
            drawRolling();
        }
        
        // ===== ANGULAR MOMENTUM CONSERVATION =====
        const conservationCanvas = document.getElementById('conservationCanvas');
        const conservationCtx = conservationCanvas.getContext('2d');
        let conservationAnimating = false;
        let conservationTheta = 0;
        const m = 2; // kg
        const r0 = 2; // m
        const I0 = 2 * m * r0 * r0;
        const omega0 = 2; // rad/s
        const L0 = I0 * omega0;
        
        function updateConservation() {
            const mult = parseFloat(document.getElementById('radiusMultiplier').value);
            document.getElementById('radiusMultDisplay').textContent = mult.toFixed(2);
            
            const r = r0 * mult;
            const I = 2 * m * r * r;
            const omega = L0 / I;
            
            document.getElementById('I1').textContent = I0.toFixed(1);
            document.getElementById('omega1').textContent = omega0.toFixed(1);
            document.getElementById('I2').textContent = I.toFixed(1);
            document.getElementById('omega2').textContent = omega.toFixed(1);
            document.getElementById('angMom').textContent = L0.toFixed(1);
            
            drawConservation(r, omega);
        }
        
        function drawConservation(r, omega) {
            conservationCtx.clearRect(0, 0, conservationCanvas.width, conservationCanvas.height);
            
            const centerX = conservationCanvas.width / 2;
            const centerY = conservationCanvas.height / 2;
            const scale = 60;
            
            // Draw axis
            conservationCtx.strokeStyle = '#999';
            conservationCtx.lineWidth = 2;
            conservationCtx.setLineDash([5, 5]);
            conservationCtx.beginPath();
            conservationCtx.moveTo(centerX, centerY - 150);
            conservationCtx.lineTo(centerX, centerY + 150);
            conservationCtx.stroke();
            conservationCtx.setLineDash([]);
            
            // Draw center
            conservationCtx.fillStyle = '#f5576c';
            conservationCtx.beginPath();
            conservationCtx.arc(centerX, centerY, 20, 0, Math.PI * 2);
            conservationCtx.fill();
            
            // Draw rotating masses
            const angle1 = conservationTheta;
            const angle2 = conservationTheta + Math.PI;
            
            const x1 = centerX + r * scale * Math.cos(angle1);
            const y1 = centerY + r * scale * Math.sin(angle1);
            const x2 = centerX + r * scale * Math.cos(angle2);
            const y2 = centerY + r * scale * Math.sin(angle2);
            
            // Draw arms
            conservationCtx.strokeStyle = '#333';
            conservationCtx.lineWidth = 4;
            conservationCtx.beginPath();
            conservationCtx.moveTo(centerX, centerY);
            conservationCtx.lineTo(x1, y1);
            conservationCtx.stroke();
            conservationCtx.beginPath();
            conservationCtx.moveTo(centerX, centerY);
            conservationCtx.lineTo(x2, y2);
            conservationCtx.stroke();
            
            // Draw masses
            conservationCtx.fillStyle = '#f093fb';
            conservationCtx.beginPath();
            conservationCtx.arc(x1, y1, 15, 0, Math.PI * 2);
            conservationCtx.fill();
            conservationCtx.beginPath();
            conservationCtx.arc(x2, y2, 15, 0, Math.PI * 2);
            conservationCtx.fill();
        }
        
        function animateConservation() {
            if (conservationAnimating) {
                const mult = parseFloat(document.getElementById('radiusMultiplier').value);
                const r = r0 * mult;
                const I = 2 * m * r * r;
                const omega = L0 / I;
                
                conservationTheta += omega * 0.05;
                drawConservation(r, omega);
                requestAnimationFrame(animateConservation);
            }
        }
        
        function toggleConservationAnimation() {
            conservationAnimating = !conservationAnimating;
            if (conservationAnimating) animateConservation();
        }
        
        function resetConservation() {
            conservationTheta = 0;
            document.getElementById('radiusMultiplier').value = '1';
            updateConservation();
        }
        
        // Initialize visualizations
        updateRotationLabel();
        drawRotation();
        updateInertiaVisualization();
        updateRollingParams();
        drawRolling();
        updateConservation();
        updateScore();
    </script>
</body>
</html>

